import"./bygoogle.COHPXIFU.js";import{r as b,E as _,q as S,x as w,c as C,b as k,s as $}from"./index.DMv_spmT.js";import{o as E}from"./share-url.2qQdjiX6.js";import{p as D,h as m}from"./hue.CO6bY_7Y.js";import{a2 as A}from"./reactivity.esm-bundler.0XVFGY1s.js";import"./prf-down.BJsZJIWL.js";import"./video.BckSihol.js";import"./nav.B407MHZ2.js";import"./11ja71b.B1IvM7YF.js";import"./11ja71b.CDMXJYOI.js";import"./searchbar.BKvNjSl6.js";import"./client.D8KTgNEF.js";import"./howto.C4nRRdsB.js";import"./client.DHok9un2.js";import"./client.BHgMVYWW.js";import"./usePosition.CkQLdT-u.js";import"./index.C34zOGvM.js";import"./scroll.BFxvvhta.js";import"./core.VZHUe__9.js";function x(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*t(){}x.g=t}function L(t,e){if(!t)return;const i=document.getElementById(e)||document.createElement("iframe");i.id=e,i.src=t,document.body.appendChild(i)}function I(){if(!__DATA__.isBot){const{id:t,type:e}=s;b.get("/api/statistics/view",{id:t,type:e}),e=="1"?b.get("/api/statistics/detail-out-view",{id:t}):e=="5"&&D("font_detail",1,"come")}}const s=window._getDetailData(),v=A({spin:!1}),g=()=>{v.spin=!1},y=t=>{g(),t&&window.open(t,"_blank")},R=()=>{S("rbg_id_type","".concat(s.id,"_").concat(s.type),{domain:".pngtree.com",expires:1}),y("/remove-background")},q={png:"down-btnfreepng",rar:"down-btnfreerar",ppt:"down-btnfreerar",premium:"down-btnvippng",edit:"down-btnedit",freevideo:"down-btnfreevideo"};function z(t,e,i,n){if(!t||v.spin)return;const o=s.one>0||s.limitedTime,a=()=>{if(__DATA__.enterpriseStatus==1)return;const p=+s.vipType;if(!o&&p>0){const r=__DATA__.vipType<=0;if(r||!r&&p==2)return g(),n.dialog="upgrade-premium",!0}};if(!__DATA__.isLogined){_.emit("_pri6n4"),m("down-btnnologin-"+t);return}if(t==="remove-bg"){a()||(m("detail/ai-btn-remove-bg"),R());return}switch(v.spin=!0,m(q[t]),t){case"png":case"rar":case"ppt":case"twibbon":const p=t==="png";e&&o?y(e):_.emit("_amemn8","*",{onend:g,type:s.type,btnType:t,licenseType:s.vipType||0,href:e,downUrl:e,rarName:i||"PSD",fee:s.fee&&p});break;case"edit":e&&s.editips&&confirm(s.editips)&&(e=e.replace(/\/canvas\/?\?/,"/canvas/designer.html?")),a()||y(e);break;case"freevideo":L(e,"down_ifr"),g();break;default:t==="premium"&&__DATA__.cookieLang!=="cht"?_.emit("_amemn8","plans",{onend:g,type:s.type}):y(e);break}}w("_19z0z4b",()=>{const t={type:"",desc:""};return{loading:!1,err:"",form:{...t},errCls(e){return this.err===e?"_feqbc0":""},onSubmit(){if(this.loading)return;const e={...this.form},i=n=>{if(e[n].trim()==="")return this.err=n,!0};i("type")||i("desc")||(this.err="",this.loading=!0,b.post("/api/message/complaint",{complaint_type:e.type,content:e.desc,element_id:s.id,element_type:s.type}).then(n=>{this.loading=!1,n.rsp==200?($toast.success("Successful!"),this.$nextTick(()=>{$app.onDialog(""),setTimeout(()=>{this.form={...t}},300)})):$toast.error(n.info)}).catch(()=>{this.loading=!1,$toast.error("Error!")}))}}});w("_1r0qupz",t=>({tab:t.tab,prfLoading:!1,tabCls(e){return this.tab===e?"_c5516n":""},onTab(e){this.tab=e},licPrf(e){const i=this.$app;if(!i.tapLogin())return;const n=e==="enterprise",o=n?"team":"",a=s.one>0,{vipType:p,enterpriseStatus:r}=__DATA__,c=n?r!=1:p<=0;if(!a&&c)i.onDialog(n?"_5j84hy":"_1mbqn4s"),m("prfview-btn"+o);else if(!this.prfLoading){this.prfLoading=!0;const d=this._Refs.prfDown,f=()=>{this.prfLoading=!1};d.onshow({...d.getName(s.one,e),slidesdocs:!!s.slidesdocs,data:{action:"detail",id:s.id,type:s.type},resolve:f,reject:f}),m("prfdown-btn"+o)}}}));w("_1um5rr9",t=>({url:t.url,followed:t.is,loading:!1,onFollow(){const e=this.$app;!this.loading&&e.tapLogin()&&(this.loading=!0,b.post("/api/async/designer-follow",{id:t.uid}).then(i=>{this.loading=!1,i.status===200&&(this.followed=!this.followed)}).catch(()=>{this.loading=!1}))}}));w("_166ljwa",t=>{const e="_sstrbf";return{store:v,previewSpin:!1,videoSize:"",wordsExpand:t.is2xl,wordsCount:"+10",wordsFromCls:t.is2xl?"":e,get showVideoDown(){return this.videoSize==="down"},"on:mounted"(){const i=this._Refs.hangs;i&&i.setIds(s.id,s.type),this.wordsCalc(!0),I()},wordsMinHeight(i){i.style.height="38px",i.style.overflow="hidden"},wordsOnExpand(){if(this.wordsFromCls=e,this.wordsExpand=!this.wordsExpand,this.wordsExpand){const i=this.$refs.wordsbtn,n=i&&i.parentElement;if(!n)return;n.appendChild(i)}else setTimeout(()=>{this.wordsCalc()},200)},wordsCalc(i){if(window.innerWidth<1024)return;const n=this.$refs.wordsbtn,o=n&&n.parentElement;if(!o)return;const a=()=>{n.classList.remove("_1i3kt2s")};if(i&&t.is2xl){a();return}const p=o.children,r=p.length,c=p[r-1];if(r<=1||c&&c.offsetTop<=0)return;const d=(f,h)=>{if(this.wordsCount="+"+(r-1-h),o.insertBefore(n,f),n.offsetTop>0){const T="previousElementSibling";let u=n[T];for(;u&&u.offsetTop>0;)u=u[T];u&&d(u,h-1)}else o._btn=f,o._btni=h;a()};if(o._btn){d(o._btn,o._btni);return}for(let f=0;f<r;f++){const h=p[f];if(h.offsetTop>0){d(h,f);break}}},onDownld(i,n,o){z(i,n,o,this.$app)},mDownld(){$(40,{target:document.querySelector("._bvrn6v")})},onCopy(){},onPreview(i=!1){if(i){const c=this.$element.querySelector("._bvrn6v .downld-btn-edit");if(c){k.dispatch(c,"click");return}}if(this.previewSpin)return;const n=this.$refs.imgLink,o=this.$refs.image;if(!n||!o)return;const a=n.href||o.currentSrc||o.src;if(!a)return;const p=()=>{_.emit("_kuxk9d",{src:a,width:n._nw,height:n._nh}),this.previewSpin=!1};if(this.previewSpin=!0,setTimeout(()=>{m("detail-preview-image")},80),n._nw){p();return}const r=new Image;r.onload=()=>{n._nw=r.naturalWidth,n._nh=r.naturalHeight,p()},r.onabort=r.onerror=()=>{this.previewSpin=!1,$toast.error("Load failed!")},r.decoding="async",r.src=a},likeSpin(){const i=this._Refs.hangs;return i?i.likeSpin({id:s.id,type:s.type}):""},likeCls(){const i=this._Refs.hangs;return i?i.likeIcoCls({id:s.id,type:s.type}):""},onLike(){const i=this._Refs.hangs;i&&i.onLike(s.id,s.type)},urlCopying:!1,onShareUrl(){C(location.href).then(()=>(this.urlCopying=!0,this.$nextTick())).then(()=>{setTimeout(()=>{this.urlCopying=!1},2800)})},onShare(i){const n=this.$refs.image,o=n?n.currentSrc||n.src:B(s.shareimg);E({name:i,media:o,title:s.sharetit,word:s.shareword})},how2Attri(){const i=this._Refs.howToAttribute,n=this.$refs.lionName;i.onopen({type:s.type,url:location.pathname,usrName:n&&n.textContent||""})}}});function B(t){return/^https?:\/\//.test(t)?t:"https://png.pngtree.com"+t}const W=t=>t*(96/72);w("_e05maq",t=>({text:"",pt:t.pt,effectId:t.eid,loading:!1,get textCls(){return"effects-text"+this.effectId},get textStyl(){return"--font-size:".concat(W(this.pt),"px")},get fontText(){return this.text||t.p},ptCls(e){return this.pt===e?"_4x0icu":"_1t7gxnv"},ptClick(e){this.pt=e},effectCls(e){return this.effectId===e?"_1abob5y":"_oqy7bn"},effectClick(e){this.effectId=e},"on:mounted"(){F(),this.initCanvas()},initCanvas(){},downPng(){if(this.loading)return;if(this.$app.tapLogin()){const i=this.fontText.trim();if(!i)return;this.loading=!0;const n=()=>{this.loading=!1},o=this.$refs.spanTxt,a=o&&o.parentElement;if(!a)return;const p=this.$refs.canvas,r=getComputedStyle(o);_.emit("_h3jjzr",{styles:{left:o.offsetLeft,top:o.offsetTop+1.25,fontFamily:r.fontFamily,fontSize:parseInt(r.fontSize),fontWeight:r.fontWeight,fontStyle:r.fontStyle},effectId:this.effectId,text:i,textWidth:o.offsetWidth,canvasWidth:a.offsetWidth,canvasHeight:a.offsetHeight,cid:p.id,onok:n,onerr(){n(),$toast.error("Error!")}})}}}));function F(){const t=document.querySelector("style[data-font-style]");if(t&&t.sheet){const e=t.sheet.cssRules,i=e.length;for(let n=0;n<i;n++)P(e[n].cssText);t.parentElement.removeChild(t)}}let l;function P(t){l||(l=document.createElement("style"),document.head.appendChild(l),l.appendChild(document.createTextNode(""))),l.sheet&&l.sheet.insertRule(t,l.sheet.cssRules.length)}export{x as __vite_legacy_guard};
